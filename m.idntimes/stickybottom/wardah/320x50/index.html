<html>

<head>
    <meta name="author" content="PT Adplus Digital Solusindo" />
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=no">
    <meta name="ad.size" content="width=320,height=50">
    <style>
        body {
            margin: 0;
        }

        .absolute {
            position: absolute;

        }

        .container {
            overflow: hidden;
            width: 320px;
            height: 50px;
            margin: 0;
        }

        #page {
            position: absolute;
            width: 320px;
            height: 50px;
            overflow: hidden;
        }

        .content {
            position: absolute;
        }

        #backgroundText {
            left: 0;
            top: 0;
            opacity: 0;
        }

        #backgroundColor {
            left: 0;
            top: 0;
            opacity: 0;
        }

        #ponselSatu {
            width: 100%;
            left: 0%;
            top: 50%;
            opacity: 0;
        }

        #ponselDua {
            width: 100%;
            left: 0%;
            top: 0%;
            opacity: 0;
        }

        #bubbleHey {
            width: 100%;
            left: 0;
            top: 0;
            opacity: 0;
            transform: rotate(20deg);
        }

        #bubbleYuk {
            width: 100%;
            left: 0%;
            top: 0%;
            opacity: 0;
            transform: rotate(-20deg);
        }

        #produk {
            width: 100%;
            right: -10%;
            top: 0%;
            opacity: 0;
        }

        #talent {
            width: 100%;
            top: 0;
            left: -10%;
            opacity: 0;
        }

        #kulit {
            width: 100%;
            top: 10%;
            opacity: 0;
        }

        #text {
            width: 100%;
            top: -10%;
            opacity: 0;
        }

        #swipe {
            width: 100%;
            height: 100%;
            bottom: 0px;
        }

        #ctaSatu {
            width: 100%;
            left: -10%;
            top: 0;
            opacity: 0;
        }

        #ctaDua {
            width: 120%;
            left: -13%;
            top: -13%;
            opacity: 0;
        }

        #clickArea {
            z-index: 9999999;
            width: 40%;
            height: 13%;
            left: 38%;
            top: 58%;
            display: none;
        }
    </style>

</head>

<body>
    <div class="container">
        <div id="page">
            <!-- animate 1 -->
            <img class="absolute" id="ponselSatu" src="img-1.png">
            <img class="absolute" id="bubbleHey" src="tx-1.png">

            <!-- animate 2 -->
            <img class="absolute" id="ponselDua" src="img-2.png">
            <img class="absolute" id="bubbleYuk" src="tx-2.png">

            <!-- animate 3 -->
            <img class="absolute" id="backgroundColor" src="bg.png">

            <!-- animate 3 -->
            <img class="absolute" id="produk" src="img-4.png">
            <img class="absolute" id="talent" src="img-3.png">
            <img class="absolute" id="backgroundText" src="logo.png">
            <img class="absolute" id="kulit" src="tx-3.png">
            <img class="absolute" id="text" src="tx-3.png">

            <img class="absolute" id="ctaSatu" src="cta-1.png">

            <a class="absolute" id="clickArea" href="https://shopee.co.id/wardahofficial" target="_blank">
            </a>
            <img class="absolute" id="ctaDua" src="cta-2.png">

            <div id="swipe" style="position: fixed;">

            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.1.min.js"
        integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TimelineLite.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/plugins/CSSPlugin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TweenMax.min.js"></script>
    <script>
        $(document).ready(function () {

            // deklarasi object
            const bgImg = document.getElementById("backgroundColor");
            const width = bgImg.offsetWidth;
            const height = bgImg.clientHeight;

            const ponselSatu = document.getElementById("ponselSatu");
            const bubbleHey = document.getElementById("bubbleHey");
            const ponselDua = document.getElementById("ponselDua");
            const bubbleYuk = document.getElementById("bubbleYuk");
            const backgroundText = document.getElementById("backgroundText");
            const backgroundColor = document.getElementById("backgroundColor");
            const produk = document.getElementById("produk");
            const talent = document.getElementById("talent");
            const kulit = document.getElementById("kulit");
            const text = document.getElementById("text");

            const ctaSatu = document.getElementById("ctaSatu");
            const ctaDua = document.getElementById("ctaDua");
            const clickArea = document.getElementById("clickArea");


            const t1 = new TimelineMax({ paused: true, reversed: true });
            const t2 = new TimelineLite({ paused: true, reversed: true });
            const t3 = new TimelineLite({ paused: true, reversed: true });
            t1.play();
            var pos = 0;

            t1.to(ponselSatu, 0.8, {
                ease: Power1.easeOut,
                y: percentMove(-50, height),
                opacity: 1,
            })
                .to(bubbleHey, 0.5, {
                    duration: 0.1,
                    opacity: 1,
                    rotation: 0,
                    ease: "elastic",
                    transformOrigin: "left 50%"
                })
                .to(bubbleHey, 0.5, {

                }, "+=2")
                .to(bubbleHey, 0.5, {
                    duration: 0.1,
                    opacity: 0,
                    rotation: 10,
                    ease: "elastic",
                    transformOrigin: "0 100%"
                }, ">")
                .to(ponselSatu, 0.5, {
                    ease: Power1.easeOut,
                    x: percentMove(20, width),
                    display: "none"
                }, '>')
                .to(ponselDua, 0.8, {
                    ease: Power1.easeOut,
                    opacity: 1
                })
                .to(bubbleYuk, 0.5, {
                    duration: 0.1,
                    opacity: 1,
                    rotation: -2,
                    ease: "elastic",
                    transformOrigin: "right 50%"
                })
                .to(ctaSatu, 0.5, {
                    ease: Power1.easeOut,
                    x: percentMove(10, width),
                    opacity: 1
                })
                ;

            t2.to(ctaSatu, 0.5, {
                ease: Power1.easeOut,
                x: percentMove(-10, width),
                opacity: 0
            }, '<')
                .to(ponselDua, 0.8, {
                    ease: Power1.easeOut,
                    opacity: 0
                }, '<')
                .to(bubbleYuk, 0.8, {
                    duration: 0.4,
                    width: percentMove(0, width),
                    x: percentMove(33, width),
                    y: percentMove(30, width),
                    opacity: 0,
                    rotation: -2,
                    ease: "elastic",
                    transformOrigin: "right 50%"
                }, '<')
                .to(backgroundColor, 0.5, {
                    ease: Power1.easeOut,
                    opacity: 1
                }, '<')
                .to(backgroundText, 0.8, {
                    ease: Power1.easeOut,
                    opacity: 1
                }, '<')
                ;


            t2.to(talent, 1, {
                ease: Power1.easeOut,
                x: percentMove(10, width),
                opacity: 1
            }, '<')
                .to(produk, 1, {
                    ease: Power1.easeOut,
                    x: percentMove(-10, width),
                    opacity: 1
                }, '<')
                .to(kulit, 1, {
                    ease: Power1.easeOut,
                    y: percentMove(-10, height),
                    opacity: 1
                }, '<')
                .to(text, 1, {
                    ease: Power1.easeOut,
                    y: percentMove(10, height),
                    opacity: 1
                }, '<')
                .to(ctaDua, 0.5, {
                    ease: Power1.easeOut,
                    width: percentMove(100, width),
                    x: percentMove(13, width),
                    y: percentMove(13, height),
                    opacity: 1,
                });

            setTimeout(function () {
                t1.play();
            }, 5000);

            setTimeout(function () {
                pos = 5;
            }, 14000);



            function percentMove(step, penyebut) {
                return step * penyebut / 100
            }


            activateTouch();

            function activateTouch() {
                swipe.addEventListener('touchstart', touchStart, false);
                swipe.addEventListener('touchmove', touchMove, false);
                swipe.addEventListener('touchend', touchEnd, false);
            }

            function deactivateTouch() {
                swipe.removeEventListener('touchstart', touchStart, false);
                swipe.removeEventListener('touchmove', touchMove, false);
                swipe.removeEventListener('touchend', touchEnd, false);
            }


            function touchStart(e) {
                disableDefaultPropagation(e);
                initTouchX = e.changedTouches[0].clientX;
                is_touch = true;
            };

            var startTouch = 0;
            var seekButtonleft = 0;
            var newSeekButtonleft = 0;
            var progress = 0;
            var seekBigBima = 0;

            var bottonShow = 0;

            function touchMove(e) {
                disableDefaultPropagation(e);
                var distance = (initTouchX - e.changedTouches[0].clientX) / 1;
                newSeekButtonleft = seekButtonleft + distance;
                console.log(newSeekButtonleft);
                if (is_touch === true) {
                    t2.play();
                    if (newSeekButtonleft < 30 && pos == 5) { // ke kanan
                        clickArea.style.display = "block";
                    }
                }
                activateTouch();
            };

            function touchEnd(e) {
                disableDefaultPropagation(e);
                is_touch = false;
            };

            function disableDefaultPropagation(e) {
                e.preventDefault();
                e.stopPropagation();
            };


        });
    </script>

</body>

</html>